{"version":3,"sources":["Components/Modal/Modal.module.css","Components/Loader/Loader.js","Components/Modal/Modal.js","Components/Searchbar/Searchbar.js","Components/ImageGallery/articlesApi.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Loader","message","Modal","handleKeyDown","e","code","props","closeModal","window","addEventListener","this","removeEventListener","className","s","Overlay","src","Component","Searchbar","state","inputValue","hendleChange","setState","target","value","hendleSubmit","preventDefault","console","log","onSubmit","searchbar","searchForm","type","SearchFormButton","searchFormButtonLabel","searchFormInput","onChange","autoComplete","autoFocus","placeholder","axios","defaults","baseURL","params","key","image_type","orientation","per_page","fatchArticlesWithQuery","searchQuery","a","page","get","data","hits","error","ImageGallery","articles","loading","isOpenModal","fetchArticles","articlesApi","then","prevState","catch","finally","loadMore","openModal","dataset","largeimage","isLoading","imageGallery","length","imageGalleryItemImage","map","imageGalleryItem","previewURL","rel","data-largeimage","largeImageURL","onClick","title","objectID","Button","App","showModal","toggleModal","onClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1afd66fe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3Pm_r\",\"Modal\":\"Modal_Modal__3LNNw\"};","import React from \"react\";\r\n\r\nexport default function Loader({ message }) {\r\n  return <p>{message}</p>;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n  render() {\r\n    return (\r\n      <div className={s.Overlay}>\r\n        <div className={s.Modal}><img src={this.props.src}/></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { inputValue: \"\" };\r\n\r\n  hendleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  hendleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(this.state.inputValue);\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form className={s.searchForm} onSubmit={this.hendleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.searchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.searchFormInput}\r\n            value={this.state.inputValue}\r\n            onChange={this.hendleChange}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n\r\n// const fatchArticlesWithQuery = (searchQuery, page) => {\r\n//   console.log(searchQuery, page);\r\n//   return axios\r\n\r\n//     .get(\r\n//       `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=18864788-659534fccb4bfac7e1ae65a8e&image_type=photos&orientation=horizontal&per_page=12`\r\n//     )\r\n\r\n//     .then((response) => response.data.hits);\r\n// };\r\n\r\n// export default {\r\n//   fatchArticlesWithQuery,\r\n// };\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst APY_KEY = \"18864788-659534fccb4bfac7e1ae65a8e\";\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\naxios.defaults.params = {\r\n  key: APY_KEY,\r\n  image_type: \"photo\",\r\n  orientation: \"horizontal\",\r\n  per_page: 12,\r\n\r\n};\r\n\r\nconst fatchArticlesWithQuery = async ( searchQuery, page = 1 ) => {\r\n  try {\r\n    const { data } = await axios.get(`?q=${searchQuery}`, {\r\n      params: { searchQuery, page },\r\n    });\r\n    console.log(data);\r\n    return data.hits;\r\n  } catch (error) {\r\n    console.log(\"error\", { error });\r\n    return [];\r\n  }\r\n};\r\n\r\nexport default {\r\n  fatchArticlesWithQuery,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"../Loader/Loader.js\";\r\nimport Modal from \"../Modal/Modal.js\";\r\nimport Searchbar from \"../Searchbar/Searchbar\";\r\nimport articlesApi from \"./articlesApi\";\r\n\r\n// import axios from \"axios\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    articles: [],\r\n    loading: false,\r\n    error: null,\r\n    searchQuery: \"\",\r\n    page: 0,\r\n    isOpenModal: false,\r\n    src: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    console.log('this.state :>> ', this.state);\r\n    this.fetchArticles(\"cat\");\r\n  }\r\n\r\n  fetchArticles = (searchQuery, page) => {\r\n    console.log('searchQuery :>> ', searchQuery);\r\n    // const {searchQuery, page} =this.state\r\n    articlesApi\r\n      .fatchArticlesWithQuery()\r\n      .then((articles) =>\r\n        this.setState((prevState) => ({\r\n          articles,\r\n          page: prevState.page + 1,\r\n          searchQuery,\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  loadMore = () => {\r\n    articlesApi\r\n      .fatchArticlesWithQuery(this.state.searchQuery, this.state.page)\r\n      .then((articles) =>\r\n        this.setState((prevState) => ({\r\n          articles: [...prevState.articles, ...articles],\r\n          page: prevState.page + 1,\r\n        }))\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  openModal = (e) => {\r\n    console.log(e.target.dataset.largeimage);\r\n    this.setState({ isOpenModal: true, src: e.target.dataset.largeimage });\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ isOpenModal: false, src: \"\" });\r\n  };\r\n\r\n  render() {\r\n    const { articles, isLoading, error } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.fetchArticles} />\r\n        <div className={s.imageGallery}>\r\n          {error && <p>Whoops, something went wrong: {error.message}</p>}\r\n\r\n          {isLoading && <Loader message=\"Loading...\" />}\r\n          {this.state.isOpenModal && (\r\n            <Modal src={this.state.src} closeModal={this.closeModal} />\r\n          )}\r\n          {articles.length > 0 && (\r\n            <>\r\n              <ul className={s.imageGalleryItemImage}>\r\n                {this.state.articles.map((articles) => (\r\n                  <li className={s.imageGalleryItem} key={articles.objectID}>\r\n                    <img\r\n                      src={articles.previewURL}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className={s.imageGalleryItemImage}\r\n                      data-largeimage={articles.largeImageURL}\r\n                      onClick={this.openModal}\r\n                    >\r\n                      {articles.title}\r\n                    </img>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              <button\r\n                type=\"button\"\r\n                onClick={this.loadMore}\r\n                className={s.Button}\r\n              >\r\n                Load more\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n// const BASE_URL = \"https://pixabay.com/api\";\r\n//     const API_KEY = \"18864788-659534fccb4bfac7e1ae65a8e\";\r\n\r\n//     axios.defaults.baseURL = BASE_URL;\r\n//     axios.defaults.params = {\r\n//       key: API_KEY,\r\n//       image_type: \"photo\",\r\n//       orientation: \"horizontal\",\r\n//       per_page: 12,\r\n//     };\r\n//     const imageGallery = async ({ q, page }) => {\r\n//       try {\r\n//         const { data } = await axios.get(\"\", {\r\n//           params: { q, page },\r\n//         });\r\n//         return data.hits;\r\n//       } catch (error) {\r\n//         console.log(\"error\", { error });\r\n//         return [];\r\n//       }\r\n//     };\r\n","import React, { Component } from \"react\";\r\n\r\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\r\n// import ImageGalleryItem from \"./Components/ImageGalleryItem/ImageGalleryItem\";\r\n// import Loader from \"./Components/Loader/Loader\";\r\n// import Button from \"./Components/Button/Button\";\r\nimport Modal from \"./Components/Modal/Modal\";\r\n// import { v4 as uuid } from \"uuid\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState((state) => ({ showModal: !this.state.showModal }));\r\n  };\r\n\r\n  render() {\r\n    const { showModal } = this.state;\r\n    return (\r\n      <>\r\n        <ImageGallery />\r\n\r\n        <div>\r\n          {showModal && (\r\n            <Modal onClose={this.toggleModal}>\r\n              <h2>modal title</h2>\r\n\r\n              <button type=\"button\" onClick={this.toggleModal}>\r\n                close modal\r\n              </button>\r\n            </Modal>\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1qup8\",\"searchForm\":\"Searchbar_searchForm__31hq4\",\"searchForButton\":\"Searchbar_searchForButton__2Mby9\",\"searchFormButton\":\"Searchbar_searchFormButton__22DAF\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__3rQ_N\",\"searchFormInput\":\"Searchbar_searchFormInput__1HUCr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__s6YGw\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__1QNXe\",\"imageGalleryItemImage\":\"ImageGallery_imageGalleryItemImage__3BIWq\",\"Button\":\"ImageGallery_Button__3fOgs\"};"],"sourceRoot":""}